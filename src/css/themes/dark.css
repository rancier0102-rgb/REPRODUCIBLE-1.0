/**
 * Dark Theme for TV
 * Optimizado para reducir fatiga visual en ambientes oscuros
 */

:root[data-theme="dark"] {
    /* ========================================
       Colores principales
       ======================================== */
    
    /* Background colors */
    --color-background: #0a0a0a;
    --color-background-elevated: #141414;
    --color-surface: #1a1a1a;
    --color-surface-alt: #242424;
    --color-surface-hover: #2a2a2a;
    --color-surface-active: #333333;
    
    /* Text colors */
    --color-text: #ffffff;
    --color-text-secondary: #b3b3b3;
    --color-text-tertiary: #808080;
    --color-text-disabled: #4d4d4d;
    --color-text-inverse: #0a0a0a;
    
    /* Primary colors */
    --color-primary: #00a8ff;
    --color-primary-hover: #0096e6;
    --color-primary-active: #0084cc;
    --color-primary-text: #ffffff;
    --color-primary-light: rgba(0, 168, 255, 0.15);
    
    /* Secondary colors */
    --color-secondary: #bb86fc;
    --color-secondary-hover: #a370e3;
    --color-secondary-active: #8b5aca;
    --color-secondary-text: #ffffff;
    
    /* Accent colors */
    --color-accent: #03dac6;
    --color-accent-hover: #00c4b2;
    --color-accent-active: #00ae9e;
    --color-accent-text: #000000;
    
    /* Semantic colors */
    --color-success: #00c853;
    --color-success-bg: rgba(0, 200, 83, 0.1);
    --color-success-text: #00c853;
    
    --color-warning: #ffab00;
    --color-warning-bg: rgba(255, 171, 0, 0.1);
    --color-warning-text: #ffab00;
    
    --color-error: #ff5252;
    --color-error-bg: rgba(255, 82, 82, 0.1);
    --color-error-text: #ff5252;
    
    --color-info: #2196f3;
    --color-info-bg: rgba(33, 150, 243, 0.1);
    --color-info-text: #2196f3;
    
    /* UI elements */
    --color-border: rgba(255, 255, 255, 0.1);
    --color-border-hover: rgba(255, 255, 255, 0.2);
    --color-divider: rgba(255, 255, 255, 0.08);
    
    --color-scrollbar: rgba(255, 255, 255, 0.2);
    --color-scrollbar-hover: rgba(255, 255, 255, 0.3);
    
    /* Shadows */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.5);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 16px 32px rgba(0, 0, 0, 0.5);
    --shadow-2xl: 0 24px 48px rgba(0, 0, 0, 0.5);
    
    /* Overlay */
    --color-overlay: rgba(0, 0, 0, 0.8);
    --color-overlay-light: rgba(0, 0, 0, 0.4);
    --color-overlay-heavy: rgba(0, 0, 0, 0.9);
    
    /* ========================================
       Gradientes
       ======================================== */
    
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-success: linear-gradient(135deg, #00c853 0%, #00bfa5 100%);
    --gradient-warning: linear-gradient(135deg, #ffab00 0%, #ff6f00 100%);
    --gradient-error: linear-gradient(135deg, #ff5252 0%, #ff1744 100%);
    --gradient-surface: linear-gradient(180deg, var(--color-surface) 0%, var(--color-background) 100%);
    
    /* ========================================
       Efectos especiales
       ======================================== */
    
    --glow-primary: 0 0 20px rgba(0, 168, 255, 0.5);
    --glow-success: 0 0 20px rgba(0, 200, 83, 0.5);
    --glow-error: 0 0 20px rgba(255, 82, 82, 0.5);
}

/* ========================================
   Ajustes específicos del tema oscuro
   ======================================== */

[data-theme="dark"] {
    color-scheme: dark;
}

/* Imágenes con menos brillo */
[data-theme="dark"] img {
    opacity: 0.9;
    transition: opacity 0.2s ease;
}

[data-theme="dark"] img:hover {
    opacity: 1;
}

/* Cards y superficies */
[data-theme="dark"] .tv-card {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
}

[data-theme="dark"] .tv-card:hover {
    background: var(--color-surface-hover);
    border-color: var(--color-border-hover);
    box-shadow: var(--shadow-lg);
}

/* Focus states más visibles */
[data-theme="dark"] [data-focusable="true"].focused::before {
    box-shadow: 
        0 0 0 var(--tv-focus-size) var(--tv-focus-color),
        var(--glow-primary);
}

/* Inputs y formularios */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
    background: var(--color-surface-alt);
    border: 2px solid var(--color-border);
    color: var(--color-text);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* Botones */
[data-theme="dark"] .tv-button {
    background: var(--color-surface-alt);
    color: var(--color-text);
    border: 1px solid var(--color-border);
}

[data-theme="dark"] .tv-button:hover {
    background: var(--color-surface-hover);
    border-color: var(--color-border-hover);
}

[data-theme="dark"] .tv-button.primary {
    background: var(--color-primary);
    color: var(--color-primary-text);
    border: none;
}

[data-theme="dark"] .tv-button.primary:hover {
    background: var(--color-primary-hover);
    box-shadow: var(--glow-primary);
}

/* Scrollbars personalizados */
[data-theme="dark"] ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--color-surface);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--color-scrollbar);
    border-radius: 6px;
    border: 2px solid var(--color-surface);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--color-scrollbar-hover);
}

/* Selection */
[data-theme="dark"] ::selection {
    background: var(--color-primary);
    color: var(--color-primary-text);
}

/* Placeholder */
[data-theme="dark"] ::placeholder {
    color: var(--color-text-tertiary);
    opacity: 1;
}

/* ========================================
   Componentes específicos
   ======================================== */

/* Navegación */
[data-theme="dark"] .tv-sidebar {
    background: var(--color-background-elevated);
    border-right: 1px solid var(--color-border);
}

[data-theme="dark"] .tv-nav-link.active {
    background: var(--gradient-primary);
}

/* Header */
[data-theme="dark"] .tv-header {
    background: var(--color-surface);
    border-bottom: 1px solid var(--color-border);
}

/* Player */
[data-theme="dark"] .tv-player {
    background: var(--color-background-elevated);
    border-top: 1px solid var(--color-border);
}

[data-theme="dark"] .tv-progress-bar {
    background: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .tv-progress-bar-fill {
    background: var(--gradient-primary);
}

/* Modales */
[data-theme="dark"] .tv-modal {
    background: var(--color-overlay);
}

[data-theme="dark"] .tv-modal-content {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
}

/* Notificaciones */
[data-theme="dark"] .tv-notification {
    background: var(--color-surface-alt);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-xl);
}

/* Loading states */
[data-theme="dark"] .tv-skeleton {
    background: linear-gradient(90deg,
        var(--color-surface) 25%,
        var(--color-surface-alt) 50%,
        var(--color-surface) 75%);
}

/* ========================================
   Estados y feedback visual
   ======================================== */

/* Hover effects */
[data-theme="dark"] .tv-hover-glow:hover {
    box-shadow: var(--glow-primary);
}

/* Active states */
[data-theme="dark"] .tv-active {
    background: var(--color-surface-active);
}

/* Disabled states */
[data-theme="dark"] [disabled],
[data-theme="dark"] .disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ========================================
   Optimizaciones de contraste
   ======================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
    [data-theme="dark"] {
        --color-border: rgba(255, 255, 255, 0.3);
        --color-text-secondary: #e6e6e6;
        --tv-focus-size: 6px;
    }
}
